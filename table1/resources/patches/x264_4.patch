===== Patch instructions generated by SAVER =====
[+] { Insert: if (true) free(*(init:h)) at 30 (line 85, column 5) }
===== Actual patch in diff format =====
--- a/table1/benchmarks/x264/filters/video/crop.c
+++ b/table1/benchmarks/x264/filters/video/crop.c
@@ -82,7 +82,10 @@ static int init( hnd_t *handle, cli_vid_filter_t *filter, video_info_t *info, x2
 
     h->dims[2] = info->width  - h->dims[0] - h->dims[2];
     h->dims[3] = info->height - h->dims[1] - h->dims[3];
-    FAIL_IF_ERROR( h->dims[2] <= 0 || h->dims[3] <= 0, "invalid output resolution %dx%d\n", h->dims[2], h->dims[3] );
+    if (h->dims[2] <= 0 || h->dims[3] <= 0)
+        x264_cli_log( NAME, x264_LOG_ERROR, "invalid output resolution %dx%d\n", h->dims[2], h->dims[3]);
+        free(h);
+        return -1;
 
     if( info->width != h->dims[2] || info->height != h->dims[3] )
         x264_cli_log( NAME, X264_LOG_INFO, "cropping to %dx%d\n", h->dims[2], h->dims[3] );
