===== Patch instructions generated by SAVER =====
[+] { Insert: if (true) free(*(init:h)) at 77 (line 79, column 5) }
===== Actual patch in diff format =====
--- a/table1/benchmarks/x264/filters/video/select_every.c
+++ b/table1/benchmarks/x264/filters/video/select_every.c
@@ -76,7 +76,10 @@ static int init( hnd_t *handle, cli_vid_filter_t *filter, video_info_t *info, x2
         FAIL_IF_ERROR( h->pattern_len >= MAX_PATTERN_SIZE, "max pattern size %d reached\n", MAX_PATTERN_SIZE );
         offsets[h->pattern_len++] = val;
     }
-    FAIL_IF_ERROR( !h->step_size, "no step size provided\n" );
+    if (!h->step_size, "no step size provided\n")
+        x264_cli_log(NAME, X264_LOG_ERROR);
+        free(h);
+        return -1;
     FAIL_IF_ERROR( !h->pattern_len, "no offsets supplied\n" );
 
     h->pattern = malloc( h->pattern_len * sizeof(int) );
